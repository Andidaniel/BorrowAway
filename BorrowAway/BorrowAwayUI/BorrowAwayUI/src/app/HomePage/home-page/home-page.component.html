<div class="app-container">
  <app-top-bar
    [buttonsData]="buttonsData"
    (buttonClickedEvent)="buttonClickedEventReceived($event)"
  ></app-top-bar>

  <div class="page-container">
    <div class="mainContainer">
      <div class="view-all">
        <img class="view-all-image" src="/assets/images/all-items.jpg" alt="" />
        <div class="view-all-text">
          <span class="icon material-icons-outlined">grid_view</span>
          <span>View All Announcements</span>
        </div>
      </div>

      <div class="search-bar-div">
        <dx-text-box class="search-bar" placeholder="Search"> </dx-text-box>
        <dx-button class="search-button" type="default">
          <span class="material-icons-outlined">search</span>
          Search</dx-button
        >
      </div>

      <div class="categories-container">
        <span class="categories-container-title">Categories:</span>
        <span
          *ngFor="let category of categories"
          (click)="goToAnnouncements(category.id)"
          class="category"
          >{{ category.title }}</span
        >
      </div>

      <div class="card-container">
        <h1 class="card-container-title">Latest Announcements</h1>
        <div
          (click)="onViewAnnouncementClick(announcement.id!)"
          class="card"
          *ngFor="let announcement of announcements"
        >
          <div class="card-title">
            <b>{{ announcement.title }}</b>
          </div>

          <div class="image-container">
            <img
              *ngIf="announcement.imagesData[0]"
              [src]="announcement.imagesData[0]"
              alt="Announcement Image"
            />
            <span *ngIf="!announcement.imagesData[0]">No image provided</span>
          </div>
          <div class="category">
            Category: <b>{{ getCategoryNameById(announcement.categoryId!) }}</b>
          </div>
          <div class="date-label">
            Posted: <b>{{ announcement.creationDate | date : "dd-MM-yyyy" }}</b>
          </div>
          <div class="price">${{ announcement.pricePerDay }} / day</div>
          <div class="goto-button">
            <span class="material-icons-outlined">visibility</span>
            View Announcement
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
